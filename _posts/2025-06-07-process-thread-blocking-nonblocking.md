---
layout: single
title: "í”„ë¡œì„¸ìŠ¤ ì“°ë ˆë“œ ë¸”ë¡œí‚¹ ë…¼ë¸”ë¡œí‚¹ íŒŒì•…í•˜ê¸°"
date: 2025-06-07 14:12:23 +0900
categories: knowledge
tags: [Process, Thread, Blocking, Non Blocking]
typora-root-url: ../

---

#### ğŸ“Œ ìš©ì–´ í•œëˆˆì—
- í”„ë¡œì„¸ìŠ¤: ì‹¤í–‰ ì¤‘ì¸ í”„ë¡œê·¸ë¨, OSê°€ ë©”ëª¨ë¦¬ì™€ ìì› í• ë‹¹  
- ì“°ë ˆë“œ: í”„ë¡œì„¸ìŠ¤ ë‚´ ì‘ì—… ë‹¨ìœ„, ìì› ê³µìœ í•˜ë©° ë³‘ë ¬ ì²˜ë¦¬  
- ë™ê¸°: ìš”ì²­ í›„ ê²°ê³¼ ê¸°ë‹¤ë¦¼, ìˆœì„œëŒ€ë¡œ ì§„í–‰  
- ë¹„ë™ê¸°: ìš”ì²­ í›„ ê¸°ë‹¤ë¦¬ì§€ ì•ŠìŒ, ë‹¤ë¥¸ ì‘ì—… ê°€ëŠ¥  
- ë¸”ë¡œí‚¹: ì“°ë ˆë“œê°€ ëŒ€ê¸° ìƒíƒœë¡œ ë©ˆì¶¤  
- ë…¼ë¸”ë¡œí‚¹: ì“°ë ˆë“œê°€ ê³„ì† ì‹¤í–‰ ê°€ëŠ¥  
- ë©€í‹°í”Œë ‰ì„œ: IO ìƒíƒœ ê°ì‹œí•˜ê³  ì´ë²¤íŠ¸ ì•Œë¦¼  
- I/O: ì™¸ë¶€ì™€ ë°ì´í„° ì£¼ê³ ë°›ëŠ” ì‘ì—…  

---
#### ğŸ“Œ í”„ë¡œì„¸ìŠ¤ì™€ ì“°ë ˆë“œ

##### âœ… í”„ë¡œì„¸ìŠ¤
- í”„ë¡œê·¸ë¨ ì‹¤í–‰ ì‹œ OSê°€ í”„ë¡œì„¸ìŠ¤ ìƒì„±  
- ë…ë¦½ ë©”ëª¨ë¦¬ ê³µê°„ê³¼ ìì› í• ë‹¹  
- ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ì™€ ë©”ëª¨ë¦¬ ê³µìœ  ì•ˆ í•¨  

##### âœ… ì“°ë ˆë“œ
- í”„ë¡œì„¸ìŠ¤ ë‚´ ìµœì†Œ í•˜ë‚˜ ì´ìƒ ì“°ë ˆë“œ (ë©”ì¸ ì“°ë ˆë“œ)  
- ì“°ë ˆë“œë¼ë¦¬ ë©”ëª¨ë¦¬ ê³µìœ  (Heap ì˜ì—­)  
- ë³‘ë ¬ ì‘ì—…ìœ¼ë¡œ íš¨ìœ¨ ë†’ì„  

##### âœ… ì‹¤ìƒí™œ ë¹„ìœ 
- í”„ë¡œì„¸ìŠ¤ = ì¹´í˜ ë§¤ì¥  
- ì“°ë ˆë“œ = ë§¤ì¥ ì•ˆ ì§ì›ë“¤  
â†’ ë§¤ì¥ì€ ë…ë¦½ì   
â†’ ì§ì›ë“¤ì€ ê°™ì€ ì¬ë£Œ ê³µìœ í•˜ë©° í˜‘ì—…  

---
#### ğŸ“Œ ë¸”ë¡œí‚¹ê³¼ ë…¼ë¸”ë¡œí‚¹ ì›ë¦¬

##### âœ… ë¸”ë¡œí‚¹
- ì“°ë ˆë“œê°€ IO ìš”ì²­ (íŒŒì¼, DB, ë„¤íŠ¸ì›Œí¬)  
- ê²°ê³¼ ì˜¬ ë•Œê¹Œì§€ ì“°ë ˆë“œ ëŒ€ê¸°  
- ìš”ì²­ ë§ìœ¼ë©´ ì“°ë ˆë“œ ë§ì•„ì ¸ ìì› ë‚­ë¹„  

##### âœ… ë…¼ë¸”ë¡œí‚¹
- IO ìš”ì²­ ì‹œ ì“°ë ˆë“œ ë©ˆì¶”ì§€ ì•ŠìŒ  
- OS ë©€í‹°í”Œë ‰ì„œê°€ IO ê°ì‹œ  
- IO ëë‚˜ë©´ ì´ë²¤íŠ¸ ë°œìƒ, ì“°ë ˆë“œ ì²˜ë¦¬  

##### âœ… ì‹¤ìƒí™œ ë¹„ìœ 
ì¹´í˜ ì£¼ë¬¸ ìƒí™©  

- ë¸”ë¡œí‚¹  
â†’ ì†ë‹˜ ì¹´ìš´í„° ì•ì—ì„œ ì»¤í”¼ ë‚˜ì˜¬ ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¼  
â†’ ë‹¤ìŒ ì†ë‹˜ ëŒ€ê¸°  

- ë…¼ë¸”ë¡œí‚¹  
â†’ ì†ë‹˜ ë²ˆí˜¸í‘œ ë°›ê³  ìë¦¬ë¡œ  
â†’ ì¹´ìš´í„° ê³„ì† ë‹¤ë¥¸ ì£¼ë¬¸ ì²˜ë¦¬  
â†’ ì»¤í”¼ ì™„ì„± ì•Œë¦¼ í›„ ì†ë‹˜ í”½ì—…  

---
#### ğŸ“Œ ë©€í‹°í”Œë ‰ì„œ ì—­í• 

ë©€í‹°í”Œë ‰ì„œ = IO ê°ì‹œ ë„êµ¬  

> ğŸ’¡ IOê°€ ë©€í‹°í”Œë ‰ì„œ í•„ìš”í•œ ì´ìœ   
> IOëŠ” CPU ê³„ì‚°ê³¼ ë‹¬ë¦¬ ì™¸ë¶€ ê¸°ë‹¤ë¦¼ (ë””ìŠ¤í¬, ë„¤íŠ¸ì›Œí¬)  
> CPU ì—°ì‚° = ë¹ ë¥¸ ë¨¸ë¦¿ì† ê³„ì‚°  
> IO = ì „í™” ê±¸ì–´ ë‹µ ê¸°ë‹¤ë¦¼ (ëŠë¦¼)  
> ì›¹ ì„œë²„ ì„±ëŠ¥ ì €í•˜ëŠ” ë³´í†µ IO ë•Œë¬¸  

##### âœ… ì‘ë™ ë°©ì‹
1ï¸âƒ£ ì“°ë ˆë“œ IOë¥¼ ë©€í‹°í”Œë ‰ì„œì— ë“±ë¡  
2ï¸âƒ£ ì“°ë ˆë“œ ë‹¤ë¥¸ ì‘ì—… ê³„ì†  
3ï¸âƒ£ ë©€í‹°í”Œë ‰ì„œ ì—¬ëŸ¬ IO ë™ì‹œ ê°ì‹œ  
4ï¸âƒ£ IO ì™„ë£Œ ì´ë²¤íŠ¸ ë°œìƒ  
5ï¸âƒ£ ì“°ë ˆë“œ ì½œë°±ìœ¼ë¡œ ê²°ê³¼ ì²˜ë¦¬  

##### âœ… ë¹„ìœ 
- ë©€í‹°í”Œë ‰ì„œ = ì£¼ë¬¸ ìƒíƒœ í™•ì¸ ì¹´ìš´í„°  
- "ì´ ì£¼ë¬¸ ëë‚¨", "ì €ê±´ ì•„ì§" ë¦¬ìŠ¤íŠ¸ ê´€ë¦¬  
- ì´ë²¤íŠ¸ ë£¨í”„ì—ì„œ ë°˜ë³µ í™•ì¸  

##### âœ… ê¸°ìˆ  ì˜ˆ
- Java NIO Selector  
- Linux epoll  
- macOS kqueue  
- Node.js libuv (epoll/kqueue ê¸°ë°˜)  
- ìŠ¤í”„ë§ë¶€íŠ¸ WebFluxì—ì„œ Reactor Nettyë¡œ ë…¼ë¸”ë¡œí‚¹ ì§€ì›  

---
#### ğŸ“Œ Selector ë‚´ë¶€ íë¦„

##### âœ… IO ì²˜ë¦¬ ì˜ˆì‹œ

```plaintext
[main thread]
      |
      |--> IO ìš”ì²­ (ì†Œì¼“ ì—°ê²°)
      |
[Selector ë“±ë¡] ----> [IO Channel 1] (DB ì¿¼ë¦¬)
                   |
                   +-> [IO Channel 2] (íŒŒì¼ ì½ê¸°)
                   |
                   +-> [IO Channel 3] (API í˜¸ì¶œ)

[main thread]
      |
      |--> ë‹¤ë¥¸ ì‘ì—…
      |
[Event Loop]
      |
      |--> Selector.poll() â†’ ì´ë²¤íŠ¸ í™•ì¸
      |
      |--> ì½œë°± ì‹¤í–‰ â†’ ê²°ê³¼ ì²˜ë¦¬
```

##### âœ… í•µì‹¬
- IO ë“±ë¡ í›„ ì“°ë ˆë“œ ììœ   
- ì´ë²¤íŠ¸ ë£¨í”„ ì§€ì† ê°ì‹œ  
- ì™„ë£Œ ì‹œ ì•Œë¦¼ê³¼ ì½œë°±  

---
#### ğŸ“Œ ì½”ë“œë¡œ ë¹„êµ

##### âœ… ë¸”ë¡œí‚¹ IO (RestTemplate)

```java
import org.springframework.web.client.RestTemplate;

public class BlockingExample {
    public static void main(String[] args) {
        RestTemplate restTemplate = new RestTemplate();

        // ë¸”ë¡œí‚¹: ê²°ê³¼ ì˜¬ ë•Œê¹Œì§€ ëŒ€ê¸°
        String response = restTemplate.getForObject("https://jsonplaceholder.typicode.com/posts/1", String.class);

        System.out.println("Response: " + response);
    }
}
```

â†’ ìš”ì²­ í›„ ë‹¤ìŒ ì¤„ ì§€ì—°  
â†’ IntelliJ ë””ë²„ê¹… ì‹œ ì“°ë ˆë“œ ëŒ€ê¸° í™•ì¸  

##### âœ… ë…¼ë¸”ë¡œí‚¹ IO (WebClient)

```java
import org.springframework.web.reactive.function.client.WebClient;
import reactor.core.publisher.Mono;

public class NonBlockingExample {
    public static void main(String[] args) {
        WebClient webClient = WebClient.create("https://jsonplaceholder.typicode.com");

        // ë…¼ë¸”ë¡œí‚¹: ë°”ë¡œ ë‹¤ìŒ ì½”ë“œ ì‹¤í–‰
        Mono<String> responseMono = webClient.get()
                .uri("/posts/1")
                .retrieve()
                .bodyToMono(String.class);

        responseMono.subscribe(response -> System.out.println("Response: " + response));

        System.out.println("ì´ ì¶œë ¥ì€ ì¦‰ì‹œ ë‚˜íƒ€ë‚¨");

        // ì˜ˆì‹œìš© ëŒ€ê¸°
        try {
            Thread.sleep(2000);
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
    }
}
```

â†’ ì½œë°±ìœ¼ë¡œ ì²˜ë¦¬  
â†’ application.ymlì— `spring.main.web-application-type: reactive` ì„¤ì • ì¶”ì²œ  

---
#### ğŸ“Œ ë…¼ë¸”ë¡œí‚¹ IO ì¥ë‹¨ì 

##### âœ… ì¥ì 
- ì ì€ ì“°ë ˆë“œë¡œ ê³ ë¶€í•˜ ì²˜ë¦¬  
- TPS ë†’ìŒ, ìì› íš¨ìœ¨  
- ì‘ë‹µ ì†ë„ ê°œì„   

##### âœ… ë‹¨ì 
- ì½”ë“œ ë³µì¡ (ë¦¬ì•¡í‹°ë¸Œ ì´í•´ í•„ìš”)  
- ë””ë²„ê¹… í˜ë“¦ (ì½œë°± ì§€ì˜¥ í”¼í•˜ê¸°)  
- ë™ê¸° ì½”ë“œì™€ ì„ì„ ë•Œ ì£¼ì˜  
- í•™ìŠµ ë¹„ìš©  

##### âœ… ì‚¬ìš© ì‹œê¸°

| ìƒí™© | ì¶”ì²œ |
|------|------|
| íŠ¸ë˜í”½ ì ìŒ, ë‹¨ìˆœ êµ¬í˜„ | RestTemplate ë¸”ë¡œí‚¹ |
| ê³ íŠ¸ë˜í”½, ë™ì‹œ ìš”ì²­ ë§ìŒ | WebClient ë…¼ë¸”ë¡œí‚¹ |
| ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤, API í˜¸ì¶œ ì¦ìŒ | WebFlux í•„ìˆ˜ |

---
#### ğŸ“Œ ê´€ê³„ ìš”ì•½

|               | ë¸”ë¡œí‚¹ | ë…¼ë¸”ë¡œí‚¹ |
|---------------|--------|----------|
| ë™ê¸°          | ì¼ë°˜ì  ì‚¬ìš© | ë“œë¬¼ìŒ |
| ë¹„ë™ê¸°        | ë“œë¬¼ìŒ | WebClient ë“± |

##### âœ… ì“°ë ˆë“œ ì¸¡ë©´
- ë¸”ë¡œí‚¹: ìš”ì²­ë‹¹ ì“°ë ˆë“œ í•„ìš”, ë‚­ë¹„  
- ë…¼ë¸”ë¡œí‚¹: ì ì€ ì“°ë ˆë“œë¡œ íš¨ìœ¨  

##### âœ… ì´ë²¤íŠ¸ ë£¨í”„
- ë…¼ë¸”ë¡œí‚¹ í•µì‹¬  
- IO ë“±ë¡ í›„ ìƒíƒœ í™•ì¸, ì™„ë£Œ ì‹œ ì½œë°±  

---
#### ğŸ“Œ ë§ˆë¬´ë¥´ê¸°
- í”„ë¡œì„¸ìŠ¤ = ë…ë¦½ ì‹¤í–‰ ë‹¨ìœ„  
- ì“°ë ˆë“œ = ê³µìœ  ì‘ì—… íë¦„  
- ë¸”ë¡œí‚¹ = ì“°ë ˆë“œ ëŒ€ê¸° ë§ìŒ  
- ë…¼ë¸”ë¡œí‚¹ = íš¨ìœ¨ì  ì²˜ë¦¬  
- ë©€í‹°í”Œë ‰ì„œ = IO ê°ì‹œì™€ ì•Œë¦¼  
- WebClient = ê³ ì„±ëŠ¥ í‚¤  
- ë¹„ë™ê¸° ë…¼ë¸”ë¡œí‚¹ ì¡°í•©ì´ íŠ¸ë Œë“œ  

#### âœ ëŠë¼ë©°
ë™ê¸° ë¹„ë™ê¸° ë¸”ë¡œí‚¹ ë…¼ë¸”ë¡œí‚¹ ì²˜ìŒì—” í˜¼ë€  
í”„ë¡œì„¸ìŠ¤ ì“°ë ˆë“œ ì›ë¦¬ íŒŒì•… í›„ ì°¨ì´ ë³´ì„  

ì™œ ë…¼ë¸”ë¡œí‚¹ì´ ì“°ë ˆë“œ ì ˆì•½í•˜ê³  ì„±ëŠ¥ ì¢‹ì€ì§€ ì´í•´  
IntelliJë¡œ WebClient ë””ë²„ê¹… í•´ë³´ë©´ ì‹¤ê°  

ìƒí™©ë³„ ì„ íƒì´ í•µì‹¬  