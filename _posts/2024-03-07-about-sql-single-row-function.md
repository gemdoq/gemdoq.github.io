---
layout: single
title: "SQL 단일행 함수에 대해"
date: 2024-03-07 18:05:47 +0900
categories: sql
tags: [SQL, DBMS]
typora-root-url: ../
---

## SQL 단일행 함수에 대해

> - 문자함수
> - 숫자함수
> - 날짜함수
> - 일반함수
> - 정규식함수

## 문자함수

- INITCAP:  입력값의 첫 글자만 대문자로 변환
- LOWER: 입력값을 전부 소문자로 변환
- UPPER: 입력값을 전부 대문자로 변환
- LENGTH: 입력된 문자열의 길이 출력
- LENGTHB: 입력된 문자열의 길이의 바이트값 출력
- CONCAT: 두 문자열을 결합해서 출력. || 연산자와 동일하나 || 연산자는 다중 요소 결합가능
- SUBSTR: 주어진 문자에서 특정 문자만 추출
- SUBSTRB: 주어진 문자에서 특정 바이트만 추출
- INSTR: 주어진 문자에서 특정 문자의 위치 추출
- INSTRB: 주어진 문자에서 특정 문자의 바이트값 추출
- LPAD: 주어진 문자열에서 왼쪽으로 특정문자를 채움
- RPAD: 주어진 문자열에서 오른쪽으로 특정문자를 채움
- LTRIM: 주어진 문자열에서 왼쪽의 특정문자를 삭제
- RTRIM: 주어진 문자열에서 오른쪽의 특정문자를 삭제
- REPLACE: 주어진 문자열에서 A를 B로 치환
- TRANSLATE: 주어진 문자열에서 대상문자를 변환문자로 치환

<br>

## 숫자함수

- ROUND: 주어진 숫자를 반올림 후 출력함
- TRUNC: 주어진 숫자를 버림 후 출력함
- MOD: 주어진 숫자를 나눈 후 나머지값을 출력함
- CEIL: 주어진 숫자와 가장 근접한 큰 정수를 출력함
- FLOOR: 주어진 숫자와 가장 근접한 작은 정수를 출력함
- POWER: 주어진 숫자 A의 숫자 B승을 출력함

<br>

## 날짜함수

- SYSDATE: 시스템의 현재 날짜와 시간
- MONTHS_BETWEEN: 두 날짜 사이의 개월 수
- ADD_MONTHS: 주어진 날짜에 개월을 더함
- NEXT_DAY: 주어진 날짜를 기준으로 돌아오는 날짜 출력
- LAST_DAY: 주어진 날짜가 속한 달의 마지막 날짜 출력
- ROUND: 주어진 날짜를 반올림
- TRUNC: 주어진 날짜를 버림

<br>

## 일반함수

- NVL: null값을 만나면 다른 값으로 치환해서 출력
- NVL2: null이 아니면 출력할 값을 지정해서 출력
- DECODE: 일반 개발용 언어에서 사용중인 분기문인 IF문처럼 조건에 맞는 값을 지정해서 출력
- CASE WHEN THEN: DECODE와 같이 조건에 맞는 값을 지정해서 출력

<br>

## 정규식함수

- ^(캐럿): 해당 문자로 시작
- $(달러): 해당 문자로 끝
- .: 하나의 문자
- *: 글자 수가 0인 경우를 포함하는 모든 문자를 의미
- ?: 애스터리스크(*)와 마찬가지로 모든 문자를 의미
- []: 해당 문자에 해당하는 한 문자
- [^]: 해당 문자에 해당하지 않는 한 문자
- REGEXP_REPLACE: 주어진 문자열에서 특정패턴을 찾아 치환
- REGEXP_INSTR: 주어진 문자열에서 특정패턴의 시작 위치를 반환
- REGEXP_SUBSTR: 주어진 문자열에서 특정패턴을 찾아 반환
- REGEXP_LIKE: 주어진 문자열에서 특정패턴을 찾아 반환
- REGEXP_COUNT: 주어진 문자열에서 특정패턴의 횟수를 반환

정규식함수에서는 메타문자를 활용한 정규식을 잘 알고 응용하는 것이 중요하다.

대괄호[] 옆의 중괄호{} 안의 숫자는 대괄호의 정규식 조건에 만족하는 문자의 갯수를 의미한다.

캐럿(^) 문자가 대괄호[] 밖에 있는 경우는 시작문자를 의미하고, 대괄호[] 안에 있는 경우는 해당 문자가 아님을 의미한다.

점(.) 문자는 하나의 문자를 의미하고 예를 들어 ^....g 와 같은 정규식은 처음 시작으로부터 5번째 문자가 g인 행을 특정한다.

겹대괄호[[]] 안에 :로 감싼 alpha, upper, digit 등은 각각 소문자, 대문자, 숫자 자료형 문자들을 의미한다. 

그리고 정규식 안에서 바(|) 문자를 통해서 연결할 수도 있다.

메타문자를 원래 기호문자처럼 사용하고 싶다면 탈출문자인 역슬래쉬(\\)를 사용해야 한다.



<br>

